:root{
  --um-bg: #ffffff;
  --um-backdrop: rgba(2,6,23,0.45);
  --um-primary: #2563eb;
  --um-success: #10b981;
  --um-danger: #ef4444;
  --um-text: #0f172a;
  --um-muted: #6b7280;
  --um-radius: 12px;
  --um-shadow-lg: 0 20px 40px rgba(2,6,23,0.14);
  --um-shadow-sm: 0 6px 18px rgba(2,6,23,0.08);
  --um-z-modal: 7000;
  --um-z-toast: 8000;
  --um-z-loader: 9000;
}

/* Reset modal UI area */
.ui-modal-overlay,
.ui-global-loader {
  font-family: Inter, system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
  box-sizing: border-box;
}

/* BACKDROP / OVERLAY */
.ui-modal-overlay {
  display: none;
  position: fixed;
  inset: 0;
  z-index: var(--um-z-modal);
  align-items: center;
  justify-content: center;
  padding: 20px;
  background: linear-gradient(0deg, rgba(2,6,23,0.48), rgba(2,6,23,0.38));
  -webkit-backdrop-filter: blur(4px);
  backdrop-filter: blur(4px);
  transition: opacity .22s ease;
  opacity: 0;
}

/* When visible */
.ui-modal-overlay.active {
  display: flex;
  opacity: 1;
}

/* Modal card - default narrower for better readability */
.ui-modal {
  background: var(--um-bg);
  border-radius: var(--um-radius);
  min-width: 280px;
  max-width: 620px;           /* reduced from earlier wide value */
  width: 100%;
  box-shadow: var(--um-shadow-lg);
  padding: 18px 20px;
  transform-origin: center center;
  transform: translateY(6px) scale(.995);
  opacity: 0;
  transition: transform .22s cubic-bezier(.2,.9,.3,1), opacity .18s ease;
  outline: none;
}

/* Compact and small variants */
.ui-modal.compact { max-width: 520px; padding:16px; border-radius:10px; }
.ui-modal.small { max-width: 420px; padding:12px; border-radius:10px; }

/* enter state */
.ui-modal-overlay.active .ui-modal {
  transform: translateY(0) scale(1);
  opacity: 1;
}

/* Modal header */
.ui-modal-header {
  display:flex;
  align-items:flex-start;
  justify-content:space-between;
  gap:12px;
  margin-bottom:8px;
}
.ui-modal-title {
  font-weight:700;
  font-size:1.02rem;
  color:var(--um-text);
  line-height:1.1;
}
.ui-modal-subtitle {
  font-size:0.9rem;
  color:var(--um-muted);
  margin-top:6px;
  display:block;
}

/* Body */
.ui-modal-body {
  color: var(--um-text);
  font-size:0.98rem;
  line-height:1.45;
  margin-bottom:12px;
  white-space: pre-wrap;
  max-height: 60vh;
  overflow: auto;
}

/* Actions */
.ui-modal-actions {
  display:flex;
  gap:10px;
  justify-content:flex-end;
  margin-top:8px;
}

/* Buttons */
.ui-btn {
  border-radius: 10px;
  padding: 8px 12px;
  border: 1px solid transparent;
  cursor: pointer;
  font-weight: 700;
  font-size: 0.95rem;
  min-width: 86px;
  display:inline-flex;
  align-items:center;
  gap:8px;
}
.ui-btn.primary {
  background: linear-gradient(180deg,var(--um-primary), #1d4ed8);
  color: #fff;
  border-color: rgba(37,99,235,0.12);
}
.ui-btn.ghost {
  background: transparent;
  color: var(--um-text);
  border: 1px solid #e6eaf2;
}
.ui-btn.danger {
  background: linear-gradient(180deg,var(--um-danger), #dc2626);
  color: #fff;
}

/* GLOBAL LOADER (center screen) */
.ui-global-loader {
  display:none;
  position: fixed;
  inset: 0;
  z-index: var(--um-z-loader);
  align-items: center;
  justify-content: center;
  background: rgba(2,6,23,0.28);
}
.ui-global-loader.active { display:flex; }

.ui-loader-card {
  background: var(--um-bg);
  padding: 16px 18px;
  border-radius: 14px;
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:center;
  min-width:220px;
  box-shadow: var(--um-shadow-lg);
}

.ui-loader-spinner {
  width:46px;
  height:46px;
  border-radius:50%;
  border:4px solid rgba(2,6,23,0.08);
  border-top-color: var(--um-primary);
  animation: um-spin 1s linear infinite;
}
.ui-loader-message { font-weight:700; color:var(--um-text); font-size:0.97rem; }

/* TOASTS */
.ui-toast-container {
  position: fixed;
  right: 18px;
  bottom: 18px;
  z-index: var(--um-z-toast);
  display:flex;
  flex-direction:column;
  gap:10px;
  align-items:flex-end;
  max-width:360px;
}
.ui-toast {
  min-width:220px;
  max-width:360px;
  padding:10px 14px;
  border-radius:10px;
  box-shadow: var(--um-shadow-sm);
  color:#fff;
  font-weight:700;
  display:flex;
  gap:12px;
  align-items:center;
  justify-content:space-between;
  transform-origin: right bottom;
  animation: um-toast-in .18s ease;
}
.ui-toast .toast-body { flex:1; margin-right:8px; text-align:left; font-weight:700; }
.ui-toast .toast-actions { margin-left:8px; display:flex; gap:8px; align-items:center; }
.ui-toast.success { background: linear-gradient(180deg,#10b981,#059669); }
.ui-toast.error { background: linear-gradient(180deg,#ef4444,#dc2626); }
.ui-toast.info { background: linear-gradient(180deg, #2563eb, #1d4ed8); }

/* small dismiss button */
.ui-toast .toast-close {
  background: rgba(255,255,255,0.16);
  border-radius:6px;
  padding:6px;
  cursor:pointer;
  display:inline-flex;
  align-items:center;
  justify-content:center;
}

/* Accessibility focus ring */
.ui-modal:focus, .ui-btn:focus, .ui-toast:focus, .ui-toast .toast-close:focus {
  outline: 3px solid rgba(37,99,235,0.16);
  outline-offset: 2px;
}

/* Animations */
@keyframes um-spin { to { transform: rotate(360deg); } }
@keyframes um-toast-in { from { transform: translateY(8px) scale(0.98); opacity:0; } to { transform: translateY(0) scale(1); opacity:1; } }

/* Responsive */
@media (max-width:520px) {
  .ui-modal { max-width: 95%; padding:14px; border-radius:10px; }
  .ui-modal.compact { max-width: 92%; }
  .ui-toast-container { right:12px; left:12px; bottom:12px; align-items:center; }
  .ui-toast { width:100%; max-width:100%; }
}

/* Utility hidden */
.um-hidden { display:none !important; }
